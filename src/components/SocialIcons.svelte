<script lang='ts'>
  import { browser } from "$app/environment";
  import {tweened} from 'svelte/motion';
  import { cubicOut } from 'svelte/easing';
  import { onMount } from "svelte";
  import { page } from "$app/stores";


  $: if (browser) {
    const canvas = document.querySelector("canvas");
    if (canvas) {
      const ctx = canvas.getContext("2d");
      let cw = (canvas.width = 297);
      let ch = (canvas.height = 550);
    
      // create the liniar gradient
      // SVG equivalent <linearGradient x1="0" y1="0" x2="100%" y2="100%" gradientUnits="userSpaceOnUse">
      let grd = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
      // SVG equivalent: <stop offset="0%" stop-color="#ffff25" />
      grd.addColorStop(0, "#ffff25");
      // SVG equivalent: <stop offset="100%" stop-color="#f71818" />
      grd.addColorStop(1, "#f71818");
      ctx.fillStyle = grd;
    
      //draw the circles
      for (let y = 100; y < 550; y += 100) {
        drawCircle(90,y,50);
      }
    
      function drawCircle(x,y,r) {
        ctx.beginPath();
        ctx.arc(x, y, r, 0, 2 * Math.PI);
        ctx.fill();
      }
    }
  }
  $: instaTransform = 'translate(100, 0)'

  const instaX = tweened(300, {
		duration: 1000,
		easing: cubicOut
	});

  const fbX = tweened(300, {
		duration: 1000,
		easing: cubicOut
	});

  const fbY = tweened(0, {
		duration: 1000,
		easing: cubicOut
	});

  const spotifyX = tweened(300, {
		duration: 1000,
		easing: cubicOut
	});

  const spotifyY = tweened(0, {
		duration: 1000,
		easing: cubicOut
	});

  $: if ($page.route.id === '/about') {
    instaX.set(30)
    fbX.set(165)

    fbY.set(-159)
    spotifyY.set(-318)
  } else if ($page.route.id === '/') {
    instaX.set(300)
    fbX.set(300)
    fbY.set(0)

    spotifyY.set(0)
  }

  $: onMount(() => {
    // setTimeout(() => progress.set(0), 500)
  })
</script>

<div class='absolute z-10 top-0 right-0 w-30'>
  <svg id="Ebene_1" data-name="Ebene 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 415 415">
    <defs>
        <linearGradient id="Orange_Gelb" x1="0" y1="0" x2="100%" y2="100%" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#08EBFC" />
            <stop offset="100%" stop-color="#7B52F6" />
        </linearGradient>
    </defs>
      
    <a target='blank' title="ellimist on instagram" rel="me" href="https://instagram.com/ellimistmusic">
      <g class='duration-100' transform="translate({$instaX} 0)">
        <path class='absolute right-0' d="M49.5002 0C36.3283 0 34.6766 0.0558792 29.5036 0.291814C24.3413 0.527315 20.8157 1.34731 17.7307 2.54604C14.5414 3.78549 11.8366 5.44397 9.14041 8.14017C6.44406 10.8364 4.78558 13.5414 3.54628 16.7307C2.34726 19.8156 1.52755 23.3412 1.29176 28.5035C1.05583 33.6766 1.00009 35.3282 1.00009 48.5001C1.00009 61.731 1 97 1 97C1 97 36.2698 97 49.5002 97C62.6719 97 64.3235 96.9441 69.4966 96.7082C74.6589 96.4727 78.1845 95.6527 81.2694 94.454C84.4587 93.2145 87.1634 91.556 89.8599 88.8598C92.5561 86.1633 94.2146 83.4586 95.454 80.2693C96.6528 77.1844 97.4728 73.6588 97.7083 68.4965C97.9442 63.3234 98.0001 61.6718 98.0001 48.5001C98.0001 35.3282 97.9442 33.6766 97.7083 28.5035C97.4728 23.3412 96.6528 19.8156 95.454 16.7307C94.2146 13.5414 92.5561 10.8364 89.8599 8.14017C87.1634 5.44397 84.4587 3.78549 81.2694 2.54604C78.1845 1.34731 74.6589 0.527315 69.4966 0.291814C64.3235 0.0558792 62.6719 0 49.5002 0ZM49.5002 8.73867C62.4501 8.73867 63.9841 8.7882 69.0983 9.02154C73.8271 9.23711 76.3951 10.0272 78.1039 10.6914C80.368 11.5713 81.9836 12.6222 83.6806 14.3194C85.3779 16.0165 86.4288 17.6323 87.3087 19.896C87.9729 21.605 88.763 24.1732 88.9786 28.9018C89.2119 34.016 89.2614 35.55 89.2614 48.5C89.2614 61.45 89.2119 62.984 88.9786 68.0982C88.763 72.827 87.9729 75.395 87.3087 77.1038C86.4288 79.3679 85.3779 80.9835 83.6806 82.6805C81.9836 84.3778 80.3678 85.4287 78.1041 86.3086C76.3951 86.9728 73.8269 87.7629 69.0983 87.9785C63.985 88.2118 62.4511 88.2613 49.5001 88.2613C39.2779 88.2613 9.73877 88.2613 9.73877 88.2613C9.73877 88.2613 9.73877 58.7227 9.73877 48.5C9.73877 35.55 9.78829 34.016 10.0216 28.9018C10.2373 24.173 11.0273 21.605 11.6915 19.8962C12.5714 17.6321 13.6224 16.0165 15.3195 14.3195C17.0166 12.6222 18.6324 11.5713 20.8961 10.6914C22.6051 10.0272 25.1733 9.23711 29.9019 9.02154C35.0161 8.7882 36.5503 8.73867 49.5002 8.73867Z" fill="url(#Orange_Gelb)"/>
        <path d="M49.5001 64.6667C40.5713 64.6667 33.3333 57.4287 33.3333 48.5001C33.3333 39.5713 40.5713 32.3333 49.5001 32.3333C58.4287 32.3333 65.6667 39.5713 65.6667 48.5001C65.6667 57.4287 58.4287 64.6667 49.5001 64.6667ZM49.5001 23.5946C35.745 23.5946 24.5946 34.745 24.5946 48.5001C24.5946 62.255 35.745 73.4054 49.5001 73.4054C63.2549 73.4054 74.4054 62.255 74.4054 48.5001C74.4054 34.745 63.2549 23.5946 49.5001 23.5946ZM81.2095 22.6106C81.2095 25.825 78.6037 28.4305 75.3894 28.4305C72.1753 28.4305 69.5694 25.825 69.5694 22.6106C69.5694 19.3963 72.1753 16.7905 75.3894 16.7905C78.6037 16.7905 81.2095 19.3963 81.2095 22.6106Z" fill="url(#Orange_Gelb)"/>
        <path d="M49.5001 64.6667C40.5713 64.6667 33.3333 57.4287 33.3333 48.5001C33.3333 39.5713 40.5713 32.3333 49.5001 32.3333C58.4287 32.3333 65.6667 39.5713 65.6667 48.5001C65.6667 57.4287 58.4287 64.6667 49.5001 64.6667Z" fill="transparent"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M49.5002 8.73868C62.4501 8.73868 63.9841 8.7882 69.0983 9.02154C73.8271 9.23711 76.3951 10.0272 78.1039 10.6914C80.368 11.5713 81.9836 12.6222 83.6806 14.3194C85.3779 16.0165 86.4288 17.6323 87.3087 19.896C87.9729 21.605 88.763 24.1732 88.9786 28.9018C89.2119 34.016 89.2614 35.55 89.2614 48.5C89.2614 61.45 89.2119 62.984 88.9786 68.0982C88.763 72.827 87.9729 75.395 87.3087 77.1038C86.4288 79.3679 85.3779 80.9835 83.6806 82.6805C81.9836 84.3778 80.3678 85.4287 78.1041 86.3086C76.3951 86.9728 73.8269 87.7629 69.0983 87.9785C63.985 88.2118 62.4511 88.2613 49.5001 88.2613H9.73877V48.5C9.73877 35.55 9.78829 34.016 10.0216 28.9018C10.2373 24.173 11.0273 21.605 11.6915 19.8962C12.5714 17.6321 13.6224 16.0165 15.3195 14.3195C17.0166 12.6222 18.6324 11.5713 20.8961 10.6914C22.6051 10.0272 25.1733 9.23711 29.9019 9.02154C35.0161 8.7882 36.5503 8.73868 49.5002 8.73868ZM24.5946 48.5001C24.5946 34.745 35.745 23.5946 49.5001 23.5946C63.2549 23.5946 74.4054 34.745 74.4054 48.5001C74.4054 62.255 63.2549 73.4054 49.5001 73.4054C35.745 73.4054 24.5946 62.255 24.5946 48.5001ZM75.3894 28.4305C78.6037 28.4305 81.2095 25.825 81.2095 22.6106C81.2095 19.3963 78.6037 16.7905 75.3894 16.7905C72.1753 16.7905 69.5694 19.3963 69.5694 22.6106C69.5694 25.825 72.1753 28.4305 75.3894 28.4305Z" fill="transparent"/>
      </g>
    </a>
    <a target='blank' title="ellimist on facebook" rel="me" href="https://facebook.com/ellimistmusic">
      <g transform="translate({$fbX} {$fbY})">
        <path d="M98 207.796C98 180.847 76.062 159 49 159C21.938 159 0 180.847 0 207.796C0 232.152 17.9186 252.339 41.3438 256V221.902H28.9024V207.796H41.3438V197.046C41.3438 184.816 48.6591 178.061 59.8518 178.061C65.2128 178.061 70.8204 179.014 70.8204 179.014V191.023H64.6415C58.5545 191.023 56.6563 194.784 56.6563 198.643V207.796H70.2461L68.0736 221.902H56.6562V256C80.0814 252.339 98 232.152 98 207.796Z" fill="url(#Orange_Gelb)"/>
        <path d="M41.3438 221.902V256H56.6562V221.902H68.0736L70.2461 207.796H56.6563V198.643C56.6563 194.784 58.5545 191.023 64.6415 191.023H70.8204V179.014C70.8204 179.014 65.2128 178.061 59.8518 178.061C48.6591 178.061 41.3438 184.816 41.3438 197.046V207.796H28.9024V221.902H41.3438Z" fill="transparent"/>
      </g>
    </a>
    <a target='blank' title="ellimist on spotify" rel="me" href="https://open.spotify.com/artist/1EEL3ccF0huuDrKVkQAWoX?si=FNlXJW1QRziTSO_pmmkc7A">
      <g transform="translate({$spotifyX} {$spotifyY})">
        <path d="M78.1892 360.996C62.5556 351.712 36.7684 350.858 21.8442 355.388C19.4469 356.115 16.9129 354.762 16.187 352.365C15.4608 349.967 16.8121 347.435 19.2102 346.706C36.3427 341.506 64.8217 342.51 82.8195 353.194C84.9757 354.474 85.6819 357.258 84.4045 359.409C83.1257 361.565 80.3397 362.276 78.1892 360.996ZM77.6771 374.747C76.5803 376.527 74.253 377.085 72.4756 375.993C59.4425 367.981 39.5674 365.66 24.1476 370.341C22.1482 370.944 20.0359 369.818 19.4287 367.821C19.1392 366.862 19.2421 365.826 19.7147 364.942C20.1874 364.058 20.9913 363.398 21.9502 363.106C39.5648 357.76 61.4632 360.349 76.4331 369.549C78.2105 370.643 78.7699 372.972 77.6771 374.747ZM71.7424 387.954C71.5358 388.293 71.2644 388.588 70.9436 388.822C70.6228 389.057 70.2589 389.225 69.8728 389.319C69.4868 389.412 69.086 389.429 68.6936 389.367C68.3012 389.305 67.9248 389.167 67.586 388.96C56.197 381.999 41.8617 380.427 24.9794 384.283C24.5926 384.372 24.1921 384.383 23.8009 384.317C23.4096 384.25 23.0353 384.108 22.6993 383.897C22.3632 383.686 22.0721 383.41 21.8424 383.087C21.6127 382.763 21.449 382.397 21.3607 382.011C21.2718 381.624 21.26 381.223 21.3262 380.831C21.3923 380.44 21.5351 380.065 21.7462 379.729C21.9574 379.393 22.2328 379.102 22.5567 378.872C22.8805 378.642 23.2466 378.479 23.6337 378.391C42.1085 374.168 57.9557 375.985 70.7394 383.797C71.0783 384.004 71.3731 384.275 71.6069 384.596C71.8408 384.917 72.0091 385.281 72.1023 385.667C72.1954 386.053 72.2117 386.454 72.15 386.846C72.0883 387.238 71.9495 387.615 71.7424 387.954ZM49.4991 318C22.7146 318 1 339.714 1 366.499C1 393.287 22.7146 415 49.4996 415C76.2858 415 98 393.287 98 366.499C98 339.714 76.2858 318 49.4991 318Z" fill="url(#Orange_Gelb)"/>
        <path d="M78.1892 360.996C62.5556 351.712 36.7684 350.858 21.8442 355.388C19.4469 356.115 16.9129 354.762 16.187 352.365C15.4608 349.967 16.8121 347.435 19.2102 346.706C36.3427 341.506 64.8217 342.51 82.8195 353.194C84.9757 354.474 85.6819 357.258 84.4045 359.409C83.1257 361.565 80.3397 362.276 78.1892 360.996Z" fill="transparent"/>
        <path d="M77.6771 374.747C76.5803 376.527 74.253 377.085 72.4756 375.993C59.4425 367.981 39.5674 365.66 24.1476 370.341C22.1482 370.944 20.0359 369.818 19.4287 367.821C19.1392 366.862 19.2421 365.826 19.7147 364.942C20.1874 364.058 20.9913 363.398 21.9502 363.106C39.5648 357.76 61.4632 360.349 76.4331 369.549C78.2105 370.643 78.7699 372.972 77.6771 374.747Z" fill="transparent"/>
        <path d="M71.7424 387.954C71.5358 388.293 71.2644 388.588 70.9436 388.822C70.6228 389.057 70.2589 389.225 69.8728 389.319C69.4868 389.412 69.086 389.429 68.6936 389.367C68.3012 389.305 67.9248 389.167 67.586 388.96C56.197 381.999 41.8617 380.427 24.9794 384.283C24.5926 384.372 24.1921 384.383 23.8009 384.317C23.4096 384.25 23.0353 384.108 22.6993 383.897C22.3632 383.686 22.0721 383.41 21.8424 383.087C21.6127 382.763 21.449 382.397 21.3607 382.011C21.2718 381.624 21.26 381.223 21.3262 380.831C21.3923 380.44 21.5351 380.065 21.7462 379.729C21.9574 379.393 22.2328 379.102 22.5567 378.872C22.8805 378.642 23.2466 378.479 23.6337 378.391C42.1085 374.168 57.9557 375.985 70.7394 383.797C71.0783 384.004 71.3731 384.275 71.6069 384.596C71.8408 384.917 72.0091 385.281 72.1023 385.667C72.1954 386.053 72.2117 386.454 72.15 386.846C72.0883 387.238 71.9495 387.615 71.7424 387.954Z" fill="transparent"/>
      </g>
    </a>
    
  </svg>
  <canvas></canvas>
</div>